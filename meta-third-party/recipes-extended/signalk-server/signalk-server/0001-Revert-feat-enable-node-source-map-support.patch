From c5f263d8d4644eef3a26e80260a900033d0d30fa Mon Sep 17 00:00:00 2001
From: mpvader <mvader@victronenergy.com>
Date: Sat, 5 Jul 2025 09:27:27 +0200
Subject: [PATCH 1/3] Revert "feat: enable node source map support"

This reverts commit 4ccc21f0d3f12899a86b1f85408905893e0626d1.

https://github.com/SignalK/signalk-server/issues/2029
---
 Procfile                   | 2 +-
 bin/log2sk                 | 2 +-
 bin/signalk-generate-token | 2 +-
 bin/signalk-server         | 2 +-
 bin/signalk-server-setup   | 2 +-
 package.json               | 2 +-
 tsconfig.base.json         | 3 +--
 7 files changed, 7 insertions(+), 8 deletions(-)

diff --git a/Procfile b/Procfile
index b763146d..f24c970c 100644
--- a/Procfile
+++ b/Procfile
@@ -1 +1 @@
-web: bin/signalk-server -s ./settings/n2k-from-file-settings.json
+web: node bin/signalk-server -s ./settings/n2k-from-file-settings.json
diff --git a/bin/log2sk b/bin/log2sk
index 408c883d..5e05a2f6 100755
--- a/bin/log2sk
+++ b/bin/log2sk
@@ -1,4 +1,4 @@
-#!/usr/bin/env -S node --enable-source-maps
+#!/usr/bin/env node
 
 if (process.argv.length < 3) {
   console.log('Usage: log2sk <yourlogfilename>')
diff --git a/bin/signalk-generate-token b/bin/signalk-generate-token
index 8c3d5b38..29a9b0c2 100755
--- a/bin/signalk-generate-token
+++ b/bin/signalk-generate-token
@@ -1,4 +1,4 @@
-#!/usr/bin/env -S node --enable-source-maps
+#!/usr/bin/env node
 
 const minimist = require('minimist')
 const fs = require('fs')
diff --git a/bin/signalk-server b/bin/signalk-server
index 9c95374e..47dddc86 100755
--- a/bin/signalk-server
+++ b/bin/signalk-server
@@ -1,4 +1,4 @@
-#!/usr/bin/env -S node --enable-source-maps
+#!/usr/bin/env node
 
 /*
  * Copyright 2014-2015 Fabian Tollenaar <fabian@starting-point.nl>
diff --git a/bin/signalk-server-setup b/bin/signalk-server-setup
index 16dad179..55679168 100755
--- a/bin/signalk-server-setup
+++ b/bin/signalk-server-setup
@@ -1,4 +1,4 @@
-#!/usr/bin/env -S node --enable-source-maps
+#!/usr/bin/env node
 
 const spawn = require('child_process').spawnSync
 const clear = require('clear')
diff --git a/package.json b/package.json
index 5f35025e..22ab9330 100644
--- a/package.json
+++ b/package.json
@@ -14,7 +14,7 @@
     "format": "npm run prettier && npm run lint",
     "ci-lint": "eslint && prettier --check .",
     "update-latest-release": "git checkout master && git branch -D latest-release || git checkout -b latest-release && git push -f origin/latest-release",
-    "start": "bin/signalk-server",
+    "start": "node bin/signalk-server",
     "test-only": "mocha 'test/**/*.[jt]s' 'dist/**/*.test.js'",
     "test": "npm run build && npm run test-only && npm run ci-lint",
     "heroku-postbuild": "npm run build:all",
diff --git a/tsconfig.base.json b/tsconfig.base.json
index 9bc4b73e..b30c808f 100644
--- a/tsconfig.base.json
+++ b/tsconfig.base.json
@@ -8,8 +8,7 @@
     "resolveJsonModule": true,
     "composite": true,
     "declaration": true,
-    "declarationMap": true,
-    "sourceMap": true
+    "declarationMap": true
   },
   "ts-node": {
     "files": true
-- 
2.34.1

